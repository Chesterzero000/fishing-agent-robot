# 南科大钓鱼协会自动化内容创作系统

## 项目概述

为南科大钓鱼协会公众号和小红书账号搭建一套自动化内容创作工作流，利用 AI Agent、MCP 工具和 Skills 实现每日钓鱼知识科普内容的半自动生成。

---

## 一、核心需求

### 1.1 内容目标
- **受众**：钓鱼新手
- **内容类型**：钓鱼知识科普（淡水钓、路亚优先，兼顾其他）
- **更新频率**：每天一条
- **发布平台**：微信公众号 + 小红书

### 1.2 内容形式

| 平台 | 风格 | 内容组成 |
|------|------|----------|
| **公众号** | 正式、系统、硬核 | 6格漫画 + 详细知识讲解 + 图文并茂 |
| **小红书** | 亲民、互动、轻松 | 6格漫画 + 简短文案 + emoji + 互动话术 |

### 1.3 IP 形象：小沄

**基本信息**
- 名字：小沄（Xiao Yun）
- 身份：南科大钓鱼协会吉祥物
- 性格：呆萌、好奇、热爱学习的钓鱼新手

**外形设计**
- 身体：圆滚滚的荔枝形状，粉红色，表面有荔枝凸起纹理
- 头顶：2-3 片小绿叶（荔枝蒂）
- 帽子：橙色小火焰造型帽（融入南科大校徽火炬元素）
- 脸部：极简风格——两个小黑点眼睛 + 小弧线嘴，表情呆萌
- 四肢：短短的小手小脚，简笔画风格
- 道具：经常拿着一根小鱼竿

**配色方案**
- 主色：荔枝粉红 #E8A0A0
- 火焰帽：南科大橙 #F5A623
- 叶子：清新绿 #7CB342
- 点缀：深青色 #2D6A6A（南科大校徽色）

**表情变体**
- 开心（钓到鱼）
- 疑惑（学知识中）
- 惊讶（发现新技巧）
- 沮丧（空军了）

---

## 二、知识管理系统

### 2.1 架构设计

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Obsidian      │     │     Neo4j       │     │     MySQL       │
│   (前端浏览)     │ ←→  │   (知识图谱)     │ ←→  │   (业务数据)     │
│                 │     │                 │     │                 │
│ • 个人学习浏览   │     │ • 知识节点关系   │     │ • 发布记录      │
│ • Markdown 文件 │     │ • 图谱查询      │     │ • 用户数据      │
│ • 本地可视化    │     │ • AI 推理调用   │     │ • 状态管理      │
└─────────────────┘     └─────────────────┘     └─────────────────┘
        ↑                       ↑                       ↑
        └───────────────────────┴───────────────────────┘
                                │
                    ┌───────────────────────┐
                    │    AI Agent 工作流     │
                    │  (MCP + Skills)       │
                    └───────────────────────┘
```

**三层存储分工**：
- **Obsidian**：你日常学习浏览，Markdown 格式，本地知识图谱可视化
- **Neo4j**：知识节点和关系存储，支持复杂图谱查询，AI 推理用
- **MySQL**：发布记录、用户会话等结构化业务数据

### 2.2 Obsidian 知识库结构

```
Sustech钓鱼协会/
├── 00-索引/
│   ├── 知识地图.md
│   └── 标签索引.md
├── 01-基础知识/
│   ├── 钓具装备/
│   ├── 鱼种识别/
│   └── 钓场选择/
├── 02-钓法技巧/
│   ├── 台钓/
│   ├── 路亚/
│   ├── 传统钓/
│   └── 海钓/
├── 03-进阶知识/
│   ├── 调漂技巧/
│   ├── 饵料配方/
│   └── 季节策略/
├── 04-已发布内容/
│   ├── 2026-01/
│   └── ...
└── 05-素材库/
    ├── 小沄形象/
    └── 参考图片/
```

### 2.3 MySQL 表结构设计

**知识点表 (knowledge_points)**
| 字段 | 类型 | 说明 |
|------|------|------|
| id | INT | 主键 |
| title | VARCHAR(200) | 知识点标题 |
| category | VARCHAR(50) | 分类（台钓/路亚/基础等） |
| difficulty | ENUM | 难度（入门/进阶/高级） |
| content | TEXT | 知识内容 |
| tags | JSON | 标签数组 |
| source_url | VARCHAR(500) | 来源链接 |
| obsidian_path | VARCHAR(300) | Obsidian 文件路径 |
| is_published | BOOLEAN | 是否已发布 |
| created_at | DATETIME | 创建时间 |
| updated_at | DATETIME | 更新时间 |

**发布记录表 (publish_records)**
| 字段 | 类型 | 说明 |
|------|------|------|
| id | INT | 主键 |
| knowledge_id | INT | 关联知识点 |
| platform | ENUM | 平台（wechat/xiaohongshu） |
| title | VARCHAR(200) | 发布标题 |
| content | TEXT | 发布内容 |
| image_urls | JSON | 图片链接 |
| publish_date | DATE | 发布日期 |
| status | ENUM | 状态（draft/pending/published） |

---

## 三、工作流设计

### 3.1 每日内容生成流程

```
┌──────────────┐
│ 1. 知识采集   │  ← 网络搜索 + 爬取专业内容
└──────┬───────┘
       ↓
┌──────────────┐
│ 2. 知识提取   │  ← 视频/音频/文本 → 结构化知识点
└──────┬───────┘
       ↓
┌──────────────┐
│ 3. 入库存储   │  ← 写入 MySQL + 同步 Obsidian
└──────┬───────┘
       ↓
┌──────────────┐
│ 4. 选题规划   │  ← 根据标签/难度/未发布 选择今日主题
└──────┬───────┘
       ↓
┌──────────────┐
│ 5. 文案生成   │  ← 生成公众号版 + 小红书版文案
└──────┬───────┘
       ↓
┌──────────────┐
│ 6. 漫画生成   │  ← Gemini 生成 6 格小沄漫画
└──────┬───────┘
       ↓
┌──────────────┐
│ 7. 图文合成   │  ← 文字叠加到图片上
└──────┬───────┘
       ↓
┌──────────────┐
│ 8. 人工审核   │  ← 你检查修改后发布
└──────────────┘
```

### 3.2 6格漫画结构

每期漫画讲述一个独立小故事：

| 格子 | 内容 | 作用 |
|------|------|------|
| 第1格 | 小沄遇到问题/疑惑 | 引入话题 |
| 第2格 | 尝试解决/学习中 | 展开情节 |
| 第3格 | 发现关键知识点 | 核心教学 |
| 第4格 | 实践应用 | 知识演示 |
| 第5格 | 遇到小波折或惊喜 | 增加趣味 |
| 第6格 | 成功/总结/彩蛋 | 收尾+记忆点 |

---

## 四、技术方案

### 4.1 工具链

| 工具 | 用途 | 状态 |
|------|------|------|
| **Obsidian** | 知识图谱前端浏览 | ✅ 已安装 |
| **MySQL** | 业务数据存储 | ✅ NAS 已部署 (fishing-mysql:3306) |
| **Neo4j** | 知识图谱存储 | ✅ NAS 已部署 (fishing-neo4j:7474/7687) |
| **Redis** | 缓存 | ✅ NAS 已部署 (redis:6379) |
| **Gemini API** | 图片生成 | ✅ 已获取 Key |
| **GitHub MCP** | 代码/文档管理 | ✅ 已配置 |
| **Web Search MCP** | 网络搜索 | ⬜ 待配置 |
| **MySQL MCP** | 数据库操作 | ⬜ 待配置 |
| **Neo4j MCP** | 图数据库操作 | ⬜ 待配置 |
| **Firecrawl MCP** | 网页爬取 | ⬜ 待配置 |

### 4.2 MCP 配置清单

需要配置的 MCP 服务器：

1. **Web Search** - 搜索钓鱼知识
2. **Firecrawl/Browserbase** - 爬取网页内容
3. **MySQL** - 连接 NAS 数据库
4. **Filesystem** - 读写 Obsidian 文件
5. **Image Generation** - 调用 Gemini 生图（可能需要自建）

### 4.3 Skills 工作流

需要创建的 Agent Skills：

1. **知识采集 Skill** - 搜索 + 爬取 + 提取知识点
2. **知识入库 Skill** - 写入 MySQL + 生成 Obsidian 笔记
3. **文案生成 Skill** - 根据知识点生成双平台文案
4. **漫画脚本 Skill** - 生成 6 格漫画的分镜脚本
5. **每日推送 Skill** - 整合以上流程，输出待审核内容

---

## 五、信息源规划

### 5.1 推荐信息源

**视频平台**
- B站钓鱼区（化绍新、邓刚、天元钓鱼等）
- 抖音钓鱼达人

**论坛社区**
- 钓鱼之家 (diaoyuzhijia.com)
- 钓鱼人 (diaoyuren.com)
- 路亚之家

**公众号**
- 化氏钓具
- 钓鱼技巧大全
- 路亚中国

**书籍**
- 《台钓入门与技巧》
- 《路亚钓鱼完全攻略》

### 5.2 知识分类体系

```
钓鱼知识
├── 基础入门
│   ├── 钓具认识（鱼竿、鱼线、鱼钩、浮漂）
│   ├── 鱼种识别（淡水常见鱼种）
│   └── 钓场选择（野钓、黑坑、水库）
├── 台钓技巧
│   ├── 调漂（调四钓二、调平水等）
│   ├── 开饵（商品饵、状态调整）
│   ├── 抛竿与扬竿
│   └── 看漂相
├── 路亚技巧
│   ├── 装备选择（竿、轮、线、饵）
│   ├── 拟饵类型（软饵、硬饵、铁板）
│   ├── 手法技巧（抽、停、跳）
│   └── 对象鱼攻略
├── 进阶知识
│   ├── 季节钓法
│   ├── 天气影响
│   └── 特殊钓法
└── 实用技巧
    ├── 打窝技巧
    ├── 遛鱼技巧
    └── 装备保养
```

---

## 六、平台差异化策略

### 6.1 公众号内容规范

**标题格式**：`【小沄学钓鱼】XXX的正确姿势`

**内容结构**：
1. 开篇引入（小沄的困惑）
2. 6格漫画
3. 知识详解（图文并茂，800-1500字）
4. 要点总结（3-5条）
5. 互动话题

**风格**：专业、系统、有深度

### 6.2 小红书内容规范

**标题格式**：`新手必看！XXX原来这么简单 🎣`

**内容结构**：
1. 6格漫画（主图）
2. 简短文案（200-400字）
3. 知识要点（带 emoji）
4. 互动引导

**风格**：轻松、口语化、多 emoji、引导评论

**回复话术模板**（手动使用）：
- 感谢类：谢谢支持～小沄会继续努力的！🎣
- 问题类：这个问题问得好！简单说就是...详细的可以看我之前的帖子哦～
- 鼓励类：加油！新手期都这样，多练习就好啦～

---

## 七、实施计划

### 第一阶段：基础搭建（1-2天）
- [x] 安装 Obsidian，创建知识库
- [x] 确定小沄形象设计
- [ ] 配置 MySQL 表结构
- [ ] 生成小沄基础形象图

### 第二阶段：工具配置（2-3天）
- [ ] 配置 Web Search MCP
- [ ] 配置 MySQL MCP
- [ ] 配置 Firecrawl MCP
- [ ] 测试 Gemini 图片生成

### 第三阶段：Skills 开发（3-5天）
- [ ] 编写知识采集 Skill
- [ ] 编写文案生成 Skill
- [ ] 编写漫画脚本 Skill
- [ ] 整合每日推送 Skill

### 第四阶段：测试优化（持续）
- [ ] 跑通完整流程
- [ ] 调优生成质量
- [ ] 建立内容审核标准

---

## 八、基础设施信息（已确认）

### 8.1 NAS 服务器
- **IP 地址**：192.168.1.79
- **SSH 端口**：25565
- **SSH 用户**：18587668166

### 8.2 数据库服务

**MySQL**
- 容器名：fishing-mysql
- 端口：3306
- 数据库名：fishing
- 用户名：fishing
- 密码：liu.ccit-1244

**Neo4j（图数据库，可用于知识图谱）**
- 容器名：fishing-neo4j
- Web 端口：7474
- Bolt 端口：7687

**Redis**
- 容器名：redis
- 端口：6379

### 8.3 现有服务
- fishing_agent：钓鱼 Agent API（端口 8000）

### 8.4 Obsidian 知识库路径
- `Z:\008.钓鱼教练Agent\知识图谱\Sustech钓鱼协会`

### 8.5 首批知识点（前10个主题）
1. 钓具认识（鱼竿、鱼线、鱼钩、浮漂）
2. 鱼种识别（淡水常见鱼种）
3. 钓场选择（野钓、黑坑、水库）
4. 调漂（调四钓二、调平水等）
5. 开饵（商品饵、状态调整）
6. 抛竿与扬竿
7. 看漂相
8. 路亚装备选择（竿、轮、线、饵）
9. 拟饵类型（软饵、硬饵、铁板）
10. 打窝技巧

### 8.6 待完成
- [ ] 小沄形象定稿（生成中）

---

## 附录

### A. Gemini 生成小沄提示词

```
Generate a cute mascot character: A round pink lychee fruit character named "小沄" (Xiao Yun). Features: bumpy lychee skin texture, small green leaves on top of head, wearing a tiny orange flame-shaped hat. Simple kawaii face with two black dot eyes and small curved mouth. Short stubby arms holding a small fishing rod. Chiikawa-style simple cute illustration, clean white background, full body view.
```

### B. 相关资源链接

- Obsidian 官网：https://obsidian.md/
- Gemini AI Studio：https://aistudio.google.com/
- 南科大校徽色值：橙色 #F5A623，深青色 #2D6A6A
